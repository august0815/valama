init_method
?_ $ReturnStatement|$AssignStatement|$CallStatement|$IfStatement|$DeclarationStatement|$SignalConnect|$ForStatement|$ForeachStatement

init_deep_space
?_ $UsingStatement


ForStatement
for ?_ ( ?_ $TypedDeclaration ?_ ; ?_ *word ?_ $ValueComparison|$TypeComparison ?_ ; ?_ *word ?_ $Assignment )

ForeachStatement
foreach ?_ ( ?_ $Type _ *word _ in _ $Value ?_ )

WhileStatement
while ?_ ( ?_ $Comparison ?_ )


DeclarationStatement
$TypedDeclaration|$VarDeclaration ?_ ;

VarDeclaration
var _ *word ?_ $Assignment

TypedDeclaration
$Type _ *word ?_ ?$Assignment


UsingStatement
using _ {@}>Namespace{child} ?$NamespaceChild{child} ?_ ;

NamespaceChild : parent
. {parent}>Namespace{child} ?$NamespaceChild{child}


IfStatement
if ?_ ( ?_ $Comparison ?_ )


CallStatement
$MethodCall ?_ ;


AssignStatement
$Assignable ?_ $Assignment ?_ ;

Assignment
= ?_ $Value|$NewExpression


ReturnStatement
return _ $Value|$NewExpression ?_ ;



NewExpression
new _ $Type ?_ $MethodCallBrackets



Comparison
$Value ?_ $ValueComparison|$TypeComparison

ValueComparison
==|<|>|<=|>=|!= ?_ $Value

TypeComparison
is ?_ $Type


Type
$TypeClassStart|$TypeNamespaceStart ?$TemplateBrackets

TypeClassStart
{@}>Class{a}|{@}>Struct{a} ?$TypeIterClass{a}

TypeNamespaceStart
{@}>Namespace{a} $TypeIterNamespace{a}|$TypeIterClass{a}

TypeIterNamespace : parent
. {parent}>Namespace{child} $TypeIterNamespace{child}|$TypeIterClass{child}

TypeIterClass : parent
. {parent}>Class{child}|{parent}>Struct{child} ?$TypeIterClass{child}


TemplateBrackets
?_ < ?_ $Type ?$TemplateBracketsIter ?_ >

TemplateBracketsIter
?_ , ?_ $Type ?$TemplateBracketsIter


SignalConnect
$SignalALL{@}

SignalIter : parent
. $SignalALL{parent}

SignalALL : parent
$SignalChildMethod{parent}|$SignalChildVariables{parent}|$SignalChildConnect{parent}

SignalChildVariables : parent
{parent}>Variable{a}|{parent}>Property{a} $SignalIter{a}

SignalChildMethod : parent
{parent}>Method{a} ?_ $MethodCallBrackets ?$SignalIter{a}

SignalChildConnect : parent
{parent}>Signal{a} .connect ?_ ( ?_ ?$MethodName ?_ ) ?_ ;



MethodName
$MethodNameALL{@}

MethodNameIter : parent
. $MethodNameALL{parent}

MethodNameALL : parent
$MethodNameChildMethod{parent}|$MethodNameChildStuff{parent}|$MethodNameChildVariables{parent}

MethodNameChildStuff : parent
{parent}>Namespace{a}|{parent}>Class{a} $MethodNameIter{a}

MethodNameChildVariables : parent
{parent}>Variable{a}|{parent}>Property{a} $MethodNameIter{a}

MethodNameChildMethod : parent
{parent}>Method{a}




MethodCall
$MethodInst{@}|$MethodStat{@}

MethodIterInst : parent
. $MethodInst{parent}

MethodIterStat : parent
. $MethodStat{parent}

MethodInst : parent
$MethodChildMethodInst{parent}|$MethodChildVariablesInst{parent}

MethodStat : parent
$MethodChildMethodStat{parent}|$MethodChildStuffStat{parent}|$MethodChildVariablesStat{parent}

MethodChildStuffStat : parent
{parent}>Namespace{a}|{parent}>Class{a} $MethodIterStat{a}

MethodChildVariablesStat : parent
{parent}>Variable<static>{a}|{parent}>Property<static>{a} $MethodIterInst{a}

MethodChildMethodStat : parent
{parent}>Method<static>{a} ?_ $MethodCallBrackets ?$MethodIterStat{a}


MethodChildMethodInst : parent
$MethodGeneralCall{parent}>{a} ?$MethodIterInst{a}

MethodChildVariablesInst : parent
{parent}>Variable<instance>{a}|{parent}>Property<instance>{a} $MethodIterInst{a}


MethodGeneralCall : parent
$MethodGeneralCallArrayEl{parent}>{ret}|$MethodGeneralCallArray{parent}>{ret}
#$MethodGeneralCallSingle{parent}>{ret}|

MethodGeneralCallSingle : parent
{parent}>Method<instance,single>{ret} ?_ $MethodCallBrackets

MethodGeneralCallArrayEl : parent
{parent}>Method<instance,arr_el>{ret} ?_ $MethodCallBrackets ?_ [ ?_ $Value ?_ ]

MethodGeneralCallArray : parent
{parent}>Method<instance,array>{ret} ?_ $MethodCallBrackets


Value
null|$ValueALL{@}|$ValueChildALLSt{@}

ValueIter : parent
. $ValueALL{parent}

ValueALL : parent
$ValueChildMethod{parent}|$ValueChildEnum{parent}|$ValueChildConstant{parent}|$ValueChildVariables{parent}


ValueIterSt : parent
. $ValueChildALLSt{parent}

ValueChildALLSt : parent
$ValueChildStuffSt{parent}|$ValueChildMethodSt{parent}|$ValueChildEnum{parent}|$ValueChildConstant{parent}

ValueChildStuffSt : parent
{parent}>Namespace{a}|{parent}>Class{a} $ValueIterSt{a}

ValueChildMethodSt : parent
{parent}>Method<static>{a} ?_ $MethodCallBrackets ?$ValueIterSt{a}


ValueChildVariables : parent
{parent}>Variable<instance>{a}|{parent}>Property{a} ?$ValueIter{a}

ValueChildConstant : parent
{parent}>Constant

ValueChildEnum : parent
{parent}>Enum{child} . {child}>Constant

ValueChildMethod : parent
$MethodGeneralCall{parent}>{a} ?$ValueIter{a}



MethodCallBrackets
( ?_ ?$MethodCallParams ?_ )

MethodCallParams
?$RefModif $Value ?$MethodCallParamIter

MethodCallParamIter
?_ , ?_ ?$RefModif $Value ?$MethodCallParamIter

RefModif
ref|out _

Assignable
$AssgInst{@}|$AssgStat{@}

AssgIterInst : parent
. $AssgInst{parent}

AssgIterStat : parent
. $AssgStat{parent}

AssgInst : parent
$AssgChildVariablesInst{parent}

AssgStat : parent
$AssgChildStuffStat{parent}|$AssgChildVariablesStat{parent}

AssgChildStuffStat : parent
{parent}>Namespace{a}|{parent}>Class{a} $AssgIterStat{a}

AssgChildVariablesStat : parent
{parent}>Variable<static>{a}|{parent}>Property<static>{a} ?$AssgIterInst{a}


AssgChildVariablesInst : parent
{parent}>Variable<instance>{a}|{parent}>Property<instance>{a} ?$AssgIterInst{a}
